#医院预约挂号系统
 
 
 
 
 
 
#数据库设计说明书
#一、引言
##1.1编写目的
数据库的表结构设计是整个项目开发中一个非常重要的环节,一个良好的数据库设计，可以提高开发效率，方便系统维护，并且为以后项目功能的扩展留下余地。我们通过书写这份文档说明，从各方面进行医院预约挂号系统的数据库设计规划，用它指导该系统在数据库各方面的内容，为系统开发的程序员、系统分析员提供基准文档。我们也希望通过写数据设计说明书，规范数据名称、数据范围、数据代码等。这份文档是项目小组共同作战的基础，有了开发规范、程序模块之间和项目成员之间的接口规则、数据方式，大家就有了共同的工作语言、共同的工作平台，使整个软件开发工作可以协调有序地进行。
##1.2背景
a)随着计算机技术的飞速发展，计算机在系统管理中的应用越来越普及，利用计算机实现各个系统的管理显得越来越重要。对于一些大中型管理部门来说，利用计算机支持管理高效率完成日常事务的管理，是适应现代管理制度要求、推动管理走向科学化、规范化的必要条件。我国由于人口多，进而带来医院看病难的问题，由于人口众多，需要排队进行挂号,这样会浪费患者的时间，而且医院的效率也不高。患者挂号是-项琐碎、复杂而又十分细致的工作，患者数量之庞大，-般不允许出错，如果实行手工操作，每天挂号的情况以及挂号时间等须手工填制大量的表格，这就会耗费医院管理工作人员大量的时间和精力，患者排队等候时间长，辗转过程多，影响了医疗的秩序。如何利用现代信息技术使企业拥有快速、高效的市场反映能力和高效率,已是医院特别关心的问题。尽快建立一个医院预约挂号系统，完善现代医院的信息化管理机制，已成为医院生存发展的当务之急。所以，建立网上预约挂号系统势在必行。
b)本系统以医院为背景，在认真调研和分析了医院的现状之后，根据用户的需求和各个功能的关系，作出了积极的设计方案。在新的管理资源和管理模式上，一定能使工作质量、工作效率等得到提高,推动医院发展的步伐。
##1.3定义

|词汇名称	|词汇含义	|备注|
|:------:|:----:|:----:|
|HRS|	EHostipal  Reqistration System 的缩写，即医院门诊挂号系统|	是将要编写的系统名称，该系统可以更好的方便用户使用|  
|B/S|	Broswer/Sever的缩写，即三层客户/服务器模式|	第一层为浏览器，第二层为Web服务器，第三层为数据库服务器。|
|SQL|	tructured Query Language的缩写，是一种数据库查询和程序设计语言|	用于存取数据以及查询、更新和管理关系数据库系统。|
|E-R|	Entity Relationship的缩写，即实体-联系图	|提供了表示实体类型、属性和联系的方法，用来描述现实世界的概念模型。它是描述现实世界关系概念模型的有效方法|
 
##1.4参考资料
a）  《数据库设计说明书》国标规范文本。
b)    《数据库系统概论》王珊，萨师煊编著。
#二、外部设计
##2.1标识符和状态
本系统的数据库名称为医院挂号系统(HRS)。在本数据库中一共建了6个表，分别是Patients (病人信息表)、Doctors (医生信息表)、Sectionoffice (科室信息表)、Managers(管理人员信息表)、Charge(收费系统管理表)、Registers(挂号表)。
##2.2使用它的程序
Web浏览器
##2.3约定
开发环境：Eclipse JEE
操作系统：mrosoft windows 10专业版
数据库：Mysql 8.0
##2.4专门指导
本系统需要的数据，都是有数据长度限制的，尤其是有说明的部分，所以测试人员在具体进行数据测试时，要注意数据输入格式
##2.5支持软件
Mysql 8.0，windows 10操作系统，eclipse，Myeclipse
#三、结构设计
##3.1概念结构设计
 E-R图如下
 
![](https://img2020.cnblogs.com/blog/1953024/202006/1953024-20200614144034546-1216084792.png)


##3.2逻辑结构设计
前台（用户）和后台（管理者）操作功能图如下

![](https://img2020.cnblogs.com/blog/1953024/202006/1953024-20200614144115673-869775928.png)

![](https://img2020.cnblogs.com/blog/1953024/202006/1953024-20200614144123497-162228690.png)


 
 
###3.2.1 数据库设计规范
数据库命名规则：db_数据库名称，每个英文单词第一个字母大写；
表命名规则：tb_表名称，每个英文单词第一个字母大写；
字段命名规则：每个英文单词第一个字母大写；
字段时间格式：所有时间格式采用2008-12-20 23:23:02的形式
##3.3物理结构设计
###3.3.1 数据表设计
参看数据字典。
###3.3.2数据存取方面的设计
对经常在查询中出现的关系的码建立索引；
对经常进行连接操作的关系的码建立索引；
对于更新频率很高的关系模型,所以没有定义索引 
###3.3.3数据完整性设计
a） 主键约束、非空值约束：
病人：挂号单编号为主键，所以此项非空
医生：医生编号为主键，所以此项非空
管理人员：管理者编号为主键，所以此项非空
科室：科室编号为主键，所以此项非空
b） 惟一约束：
每个表的主键需定义为惟一性，例如对于病人，挂号单编号、姓名都是用于识别用户身份，所以需建立唯一约束
c） 定义规则：
例如规定手机号位数，挂号时间。
#四 运用设计
##4.1 数据流图
 (1) 数据流编号：A―001
数据流名称：注册信息
简      述：用户登录系统注册的相关信息
数据流来源：病人
数据流去向：系统管理员处理
数据流组成：身份证号＋手机＋密码

(2) 数据流编号：A―002
数据流名称：挂号信息
简      述：用户预约的挂号单
数据流来源：用户
数据流去向：挂号处
数据流组成：用户身份证+名字+医生+时间+金额

(3) 数据流编号：A―004
数据流名称：缴费信息
简      述：用户是否支付订单
数据流来源：用户
数据流去向：挂号处
数据流组成：订单号＋金额

(4) 数据流编号：A―004
数据流名称：医生出诊信息
简      述：医生的出诊信息
数据流来源：系统管理员
数据流去向：系统
数据流组成：医生出诊信息
##4.2 安全保密设计
我们会通过不同访问者,进行分别对待获得的数据库安全保密设计考虑。对于用
户会采用加口令加验证码方式登录。用户名的权限限制为只能进行基本的增删改
查数据功能。
数据库由专门门数据库管理员对数据库操作，注意以下安全问题，访问安全,数据
安全，传输安全。

##4.3 数据库实施
Patients表
|名	|类型	|长度	|是否为空|
|:-----:|:-----:|:-----:|:-----:|
|Yh_user|	int|	0|	F|
|Yh_passwd|	varchar	|64|	F|
|Yh_t_number|	int|	0|	F|
|Yh_age|	Int|	0|	F|
|Yh_ddh|	Int|	64|	F|
|Yh_sex|	string|	0|	F|


















Doctors表
|名	|类型	|长度	|是否为空|
|:-----:|:-----:|:-----:|:-----:|
|D_user	|int|	0|	F|
|D_message|	String|	64|	F|
|D_czsj|	int|	0|	F|
|D_money|	Int|	0|	F|
Sectionoffice表
|K_ message|	String|	0|	F|
|:--------:|:--------:|:-:|:----:|
Managers表
|G_user|	int|	0|	F|
|:----:|:---------:|:---:|:-----:|
|G_passwd|	varchar|	64|	F|
|G_message|	string|	0|	F|

Charge表
|S_order nummber|	int|	0|	F|
|:-------------:|:--------:|:---:|:-----:|
|S_unpaid|	int|	0|	F|
|S_paid|	int|	0|	F|

Registers表
|B_name|	int|	0|	F|
|:-----:|:-----:|:-----:|:-----:|
|B_sex|	string|	0|	F|
|B_age|	int|	0|	F|
|B_doctor|	string|	0|	F|
|B_division|	string|	0|	F|
|B_time|	int|	0|	F|
